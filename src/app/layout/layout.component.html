<div class="container-fluid pt-4">
    <div class="d-flex flex-column gap-4 w-100">
        <div class="d-flex align-items-center justify-content-left w-100">
            <h1 class="fs-1">{{ "piezas de lego" | titlecase }}</h1>
        </div>
        <div class="d-flex align-items-center justify-content-left gap-2">
            <p-select placeholder="Seleccione una opciÃ³n" (onChange)="onSelectChange($event)" [options]="cols"
                optionLabel="header" style="text-transform: capitalize;" />
            <input #inputElement type="text" pInputText [(ngModel)]="inputValue" (input)="onInput()">
        </div>
        <div class="table-responsive">
            <p-table [value]="legos" [columns]="cols" [tableStyle]="{ 'min-width': '50rem' }" showGridlines stripedRows>
                <ng-template #header>
                    <tr>
                        <th>{{ "imagen lego" | titlecase }}</th>
                        <th>{{ "imagen pieza" | titlecase}}</th>
                        @for (col of cols; track col.field) {
                        <th>{{ col.header | titlecase }}</th>
                        }
                        <th>{{ "acciones" | titlecase}}</th>
                    </tr>
                </ng-template>
                <ng-template #body let-rowData let-columns="columns">
                    <tr>
                        <td></td>
                        <td></td>
                        @for (col of cols; track col.field) {
                        <th>{{ rowData[col.field] }}</th>
                        }
                        <td>
                            <div class="d-flex flex-column gap-2">
                                <p-button label="Editar Lego" severity="primary" [style]="{ width: '100%'}"
                                    (onClick)="onEdit(rowData)"></p-button>
                                <p-button label="Eliminar Lego" severity="danger" [style]="{ width: '100%'}"
                                    (onClick)="onDelete(rowData['id'])"></p-button>
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>

<p-toast />
<p-confirm-dialog />